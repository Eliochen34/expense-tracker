{{!-- ./views/index.handlebars --}}
<div class="container mt-5 text-center">
  {{!-- sorting drop down --}}
  <div class="form-group">
    <form action="/category" method="POST">
      <select name="sort" id="sort" oninput="form.submit()" class="btn btn-secondary dropdown-toggle">
        <option disabled selected>Sort</option>
        <option value="1">家居物業</option>
        <option value="2">交通出行</option>
        <option value="3">休閒娛樂</option>
        <option value="4">餐飲食品</option>
        <option value="5">其他</option>
      </select>
    </form>
  </div>
  <div>
    <p>Total Amount:<b>{{totalAmount}}</p>
  </div>
  <!-- record list -->
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-10 col-12 mx-auto">
        <ul class="list-group-item">
          {{#each records}}
          <li class="list-group-item">
            <div class="row align-items-center">
              <div class="col-auto me-auto">
                <i class="fa-solid fa-{{this.categoryId}}"></i>
                <h4 style="display: inline; vertical-align:middle;"> {{this.name}} </h4>
                <small class="date text-muted"> {{this.date}} </small>
              </div>
              <div class="col-auto">
                <p>{{this.amount}}</p>
              </div>
              <div class="col-auto">
                <a class="btn btn-success" href="./records/{{ this._id }}/edit">edit</a>
                <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display:inline;">
                  <button class="btn btn-danger" type="submit">delete</button>
                </form>
              </div>
            </div>
          </li>
          {{/each}}
        </ul>
        <a href="/records/new"> <button class="btn btn-info mb-3">新增支出</button> </a>
      </div>
    </div>
  </div>
</div>